"use strict";(self["webpackChunkcarshop"]=self["webpackChunkcarshop"]||[]).push([[309],{9309:function(e,a,l){l.r(a),l.d(a,{default:function(){return g}});var o=l(6252),n=l(9963),s=l(9481);const m=e=>((0,o.dD)("data-v-ab8713ee"),e=e(),(0,o.Cn)(),e),u=m((()=>(0,o._)("img",{src:s,alt:""},null,-1))),r=[u],t=(0,o.Uk)("帳號管理"),d={class:""},c=(0,o.Uk)(" 儲存 "),i=(0,o.Uk)(" 取消 ");function p(e,a,l,s,m,u){const p=(0,o.up)("Navbar"),f=(0,o.up)("van-field"),k=(0,o.up)("van-cell-group"),w=(0,o.up)("van-button"),b=(0,o.up)("van-form");return(0,o.wg)(),(0,o.iD)("div",null,[(0,o._)("div",{class:"left",onClick:a[0]||(a[0]=(...e)=>s.goBack&&s.goBack(...e))},r),(0,o.Wm)(p,null,{default:(0,o.w5)((()=>[t])),_:1}),(0,o.Wm)(b,{onSubmit:s.onSubmit,class:"col-12 col-md-6 mx-auto"},{default:(0,o.w5)((()=>[(0,o.Wm)(k,{inset:""},{default:(0,o.w5)((()=>[(0,o.Wm)(f,{style:{"margin-top":"100px"},modelValue:e.name,"onUpdate:modelValue":a[1]||(a[1]=a=>e.name=a),name:"name",label:"帳號名稱",placeholder:"帳號名稱",rules:[{required:!0,message:"帳號名稱"}],readonly:""},null,8,["modelValue"]),(0,o.Wm)(f,{modelValue:e.rickname,"onUpdate:modelValue":a[2]||(a[2]=a=>e.rickname=a),name:"rickname",label:"暱稱",placeholder:"暱稱",rules:[{required:!0,message:"暱稱"}]},null,8,["modelValue"]),(0,o.Wm)(f,{modelValue:e.password,"onUpdate:modelValue":a[3]||(a[3]=a=>e.password=a),name:"password",label:"密碼",placeholder:"******"},null,8,["modelValue"]),(0,o.wy)((0,o._)("div",d,[(0,o.Wm)(f,{modelValue:e.password_confirmation,"onUpdate:modelValue":a[4]||(a[4]=a=>e.password_confirmation=a),name:"password",label:"確認密碼",placeholder:"******"},null,8,["modelValue"])],512),[[n.F8,s.password_check]]),(0,o.Wm)(f,{modelValue:e.email,"onUpdate:modelValue":a[5]||(a[5]=a=>e.email=a),name:"email",label:"Email",placeholder:"a123456@yahoo.com",rules:[{required:!0,message:"Email"}]},null,8,["modelValue"])])),_:1}),(0,o.Wm)(w,{class:"col-6 mx-auto my-4",round:"",block:"",type:"success","native-type":"submit"},{default:(0,o.w5)((()=>[c])),_:1}),(0,o.Wm)(w,{class:"col-6 mx-auto",round:"",block:"",onClick:s.goBack,type:"danger"},{default:(0,o.w5)((()=>[i])),_:1},8,["onClick"])])),_:1},8,["onSubmit"])])}l(4837);var f=l(4309),k=l(2589),w=l(2119),b=l(2262),h=l(5821),v={name:"setting",components:{Navbar:k.Z},setup(){(0,w.yj)();const e=(0,w.tv)();(0,b.iH)(0);const a=(0,b.qj)({name:"",rickname:"",password:"",password_confirmation:"",email:""}),l=(0,o.Fl)((()=>""!==a.password));(0,o.bv)((()=>{(0,h.PR)().then((e=>{a.name=e.name,a.rickname=e.rickname,a.email=e.email}))}));const n=()=>{if(a.password!==a.password_confirmation)return f.Z.fail("請確認密碼");(0,h.uz)(a).then((a=>{if(401==a.status)return f.Z.fail("已有相同Email");204==a.status&&(f.Z.success("儲存成功"),setTimeout((()=>{e.push({path:"/profile"})}),1e3))})),console.log(a)},s=()=>{e.push({path:"/profile"})};return{...(0,b.BK)(a),onSubmit:n,goBack:s,password_check:l}}},_=l(3744);const V=(0,_.Z)(v,[["render",p],["__scopeId","data-v-ab8713ee"]]);var g=V}}]);
//# sourceMappingURL=309.446d28b7.js.map