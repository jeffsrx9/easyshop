{"version":3,"file":"js/309.446d28b7.js","mappings":"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","sources":["webpack://carshop/./src/views/profile/setting.vue","webpack://carshop/./src/views/profile/setting.vue?7ad3"],"sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"left\" @click=\"goBack\">\r\n      <img src=\"~assets/images/211686_white_arrow_icon.png\" alt=\"\" />\r\n    </div>\r\n    <Navbar>\r\n      <template #default>帳號管理</template>\r\n    </Navbar>\r\n\r\n    <van-form @submit=\"onSubmit\" class=\"col-12 col-md-6 mx-auto\">\r\n      <van-cell-group inset>\r\n        <van-field\r\n          style=\"margin-top: 100px\"\r\n          v-model=\"name\"\r\n          name=\"name\"\r\n          label=\"帳號名稱\"\r\n          placeholder=\"帳號名稱\"\r\n          :rules=\"[{ required: true, message: '帳號名稱' }]\"\r\n          readonly\r\n        />\r\n        <van-field\r\n          v-model=\"rickname\"\r\n          name=\"rickname\"\r\n          label=\"暱稱\"\r\n          placeholder=\"暱稱\"\r\n          :rules=\"[{ required: true, message: '暱稱' }]\"\r\n        />\r\n        <van-field\r\n          v-model=\"password\"\r\n          name=\"password\"\r\n          label=\"密碼\"\r\n          placeholder=\"******\"\r\n        />\r\n        <div class=\"\" v-show=\"password_check\">\r\n          <van-field\r\n            v-model=\"password_confirmation\"\r\n            name=\"password\"\r\n            label=\"確認密碼\"\r\n            placeholder=\"******\"\r\n          />\r\n        </div>\r\n        <van-field\r\n          v-model=\"email\"\r\n          name=\"email\"\r\n          label=\"Email\"\r\n          placeholder=\"a123456@yahoo.com\"\r\n          :rules=\"[{ required: true, message: 'Email' }]\"\r\n        />\r\n      </van-cell-group>\r\n      <van-button\r\n        class=\"col-6 mx-auto my-4\"\r\n        round\r\n        block\r\n        type=\"success\"\r\n        native-type=\"submit\"\r\n      >\r\n        儲存\r\n      </van-button>\r\n      <van-button\r\n        class=\"col-6 mx-auto\"\r\n        round\r\n        block\r\n        @click=\"goBack\"\r\n        type=\"danger\"\r\n      >\r\n        取消\r\n      </van-button>\r\n    </van-form>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Navbar from \"@/components/common/navbar/Navbar.vue\";\r\nimport { useRoute, useRouter } from \"vue-router\";\r\nimport { onMounted, ref, reactive, toRefs, computed } from \"vue\";\r\nimport { editUser, getUser } from \"@/../public/network/user\";\r\nimport { Toast } from \"vant\";\r\nexport default {\r\n  name: \"setting\",\r\n  components: { Navbar },\r\n  setup() {\r\n    const route = useRoute();\r\n    const router = useRouter();\r\n    let id = ref(0);\r\n    const state = reactive({\r\n      name: \"\",\r\n      rickname: \"\",\r\n      password: \"\",\r\n      password_confirmation: \"\",\r\n      email: \"\",\r\n    });\r\n    const password_check = computed(() => {\r\n      if (state.password !== \"\") {\r\n        return true;\r\n      } else {\r\n        return false;\r\n      }\r\n    });\r\n    onMounted(() => {\r\n      getUser().then((res) => {\r\n        state.name = res.name;\r\n        state.rickname = res.rickname;\r\n        state.email = res.email;\r\n      });\r\n    });\r\n    const onSubmit = () => {\r\n      if (state.password !== state.password_confirmation) {\r\n        return Toast.fail(\"請確認密碼\");\r\n      } else {\r\n        editUser(state).then((res) => {\r\n          if (res.status == 401) {\r\n            return Toast.fail(\"已有相同Email\");\r\n          } else if (res.status == 204) {\r\n            Toast.success(\"儲存成功\");\r\n            setTimeout(() => {\r\n              router.push({ path: \"/profile\" });\r\n            }, 1000);\r\n          }\r\n        });\r\n      }\r\n      console.log(state);\r\n    };\r\n    const goBack = () => {\r\n      router.push({ path: \"/profile\" });\r\n    };\r\n    return {\r\n      ...toRefs(state),\r\n      onSubmit,\r\n      goBack,\r\n      password_check,\r\n    };\r\n  },\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n.left {\r\n  z-index: 1000;\r\n  position: absolute;\r\n  top: 0;\r\n}\r\n</style>","import { render } from \"./setting.vue?vue&type=template&id=ab8713ee&scoped=true\"\nimport script from \"./setting.vue?vue&type=script&lang=js\"\nexport * from \"./setting.vue?vue&type=script&lang=js\"\n\nimport \"./setting.vue?vue&type=style&index=0&id=ab8713ee&lang=scss&scoped=true\"\n\nimport exportComponent from \"C:\\\\Users\\\\user\\\\Desktop\\\\easyshop\\\\node_modules\\\\vue-loader\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-ab8713ee\"]])\n\nexport default __exports__"],"names":["_createElementVNode","src","_imports_0","alt","_hoisted_1","class","_createElementBlock","onClick","$setup","_createVNode","_component_Navbar","default","_component_van_form","onSubmit","_component_van_cell_group","inset","_component_van_field","style","_ctx","$event","name","label","placeholder","rules","required","message","readonly","_component_van_button","round","block","type","components","Navbar","setup","useRoute","router","useRouter","ref","state","reactive","rickname","password","password_confirmation","email","password_check","computed","onMounted","getUser","then","res","editUser","status","setTimeout","push","path","console","log","goBack","toRefs","__exports__","render"],"sourceRoot":""}